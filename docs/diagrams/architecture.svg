<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 900 420">
  <defs>
    <linearGradient id="am1" x1="0%" y1="0%" x2="0%" y2="100%"><stop offset="0%" style="stop-color:#1565c0"/><stop offset="100%" style="stop-color:#42a5f5"/></linearGradient>
    <linearGradient id="am2" x1="0%" y1="0%" x2="0%" y2="100%"><stop offset="0%" style="stop-color:#6a1b9a"/><stop offset="100%" style="stop-color:#ab47bc"/></linearGradient>
    <linearGradient id="am3" x1="0%" y1="0%" x2="0%" y2="100%"><stop offset="0%" style="stop-color:#2e7d32"/><stop offset="100%" style="stop-color:#66bb6a"/></linearGradient>
    <filter id="s"><feDropShadow dx="2" dy="2" stdDeviation="2" flood-opacity="0.15"/></filter>
    <marker id="arr" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto"><polygon points="0 0,10 3.5,0 7" fill="#555"/></marker>
  </defs>
  <style>
    @keyframes flow{0%{stroke-dashoffset:20}100%{stroke-dashoffset:0}}
    @keyframes fadeIn{0%{opacity:0;transform:scale(0.95)}100%{opacity:1;transform:scale(1)}}
    @keyframes glow{0%,100%{filter:brightness(1)}50%{filter:brightness(1.2)}}
    .flow{stroke-dasharray:10 10;animation:flow 1s linear infinite}
    .s1{animation:fadeIn 0.4s ease 0.1s both}.s2{animation:fadeIn 0.4s ease 0.3s both}
    .s3{animation:fadeIn 0.4s ease 0.5s both}.s4{animation:fadeIn 0.4s ease 0.7s both}
    .gw{animation:glow 3s ease infinite}
  </style>
  <text x="450" y="30" text-anchor="middle" font-family="Arial" font-size="20" font-weight="bold" fill="#333">API Marketplace — Request Lifecycle</text>
  <!-- Developers -->
  <g class="s1">
    <rect x="20" y="100" width="120" height="40" rx="6" fill="url(#am1)" filter="url(#s)"/><text x="80" y="125" text-anchor="middle" font-family="Arial" font-size="11" fill="white">Developer A</text>
    <rect x="20" y="155" width="120" height="40" rx="6" fill="url(#am1)" filter="url(#s)"/><text x="80" y="180" text-anchor="middle" font-family="Arial" font-size="11" fill="white">Developer B</text>
    <rect x="20" y="210" width="120" height="40" rx="6" fill="url(#am1)" filter="url(#s)"/><text x="80" y="235" text-anchor="middle" font-family="Arial" font-size="11" fill="white">Developer C</text>
  </g>
  <!-- Gateway -->
  <g class="s2 gw"><rect x="200" y="100" width="160" height="150" rx="12" fill="url(#am2)" filter="url(#s)"/>
    <text x="280" y="140" text-anchor="middle" font-family="Arial" font-size="15" fill="white" font-weight="bold">API Gateway</text>
    <text x="280" y="168" text-anchor="middle" font-family="Arial" font-size="10" fill="#e1bee7">JWT Auth</text>
    <text x="280" y="188" text-anchor="middle" font-family="Arial" font-size="10" fill="#e1bee7">Rate Limiting</text>
    <text x="280" y="208" text-anchor="middle" font-family="Arial" font-size="10" fill="#e1bee7">Usage Metering</text>
    <text x="280" y="228" text-anchor="middle" font-family="Arial" font-size="10" fill="#e1bee7">Analytics</text>
  </g>
  <!-- APIs -->
  <g class="s3">
    <rect x="430" y="80" width="140" height="40" rx="6" fill="url(#am3)" filter="url(#s)"/><text x="500" y="105" text-anchor="middle" font-family="Arial" font-size="11" fill="white">AI Gateway API</text>
    <rect x="430" y="135" width="140" height="40" rx="6" fill="url(#am3)" filter="url(#s)"/><text x="500" y="160" text-anchor="middle" font-family="Arial" font-size="11" fill="white">Contract API</text>
    <rect x="430" y="190" width="140" height="40" rx="6" fill="url(#am3)" filter="url(#s)"/><text x="500" y="215" text-anchor="middle" font-family="Arial" font-size="11" fill="white">Compliance API</text>
    <rect x="430" y="245" width="140" height="40" rx="6" fill="url(#am3)" filter="url(#s)"/><text x="500" y="270" text-anchor="middle" font-family="Arial" font-size="11" fill="white">ML Pipeline API</text>
  </g>
  <!-- Dashboard -->
  <g class="s4"><rect x="650" y="120" width="200" height="120" rx="12" fill="#f5f5f5" stroke="#e0e0e0" stroke-width="2" filter="url(#s)"/>
    <text x="750" y="155" text-anchor="middle" font-family="Arial" font-size="14" font-weight="bold" fill="#333">Dev Portal</text>
    <text x="750" y="180" text-anchor="middle" font-family="monospace" font-size="10" fill="#666">API Keys: 47</text>
    <text x="750" y="198" text-anchor="middle" font-family="monospace" font-size="10" fill="#666">Req/day: 12,450</text>
    <text x="750" y="216" text-anchor="middle" font-family="monospace" font-size="10" fill="#666">Revenue: R18,500/mo</text>
  </g>
  <!-- Arrows -->
  <line x1="140" y1="175" x2="195" y2="175" stroke="#555" stroke-width="2" class="flow" marker-end="url(#arr)"/>
  <line x1="360" y1="155" x2="425" y2="100" stroke="#555" stroke-width="1.5" class="flow" marker-end="url(#arr)"/>
  <line x1="360" y1="170" x2="425" y2="155" stroke="#555" stroke-width="1.5" class="flow" marker-end="url(#arr)"/>
  <line x1="360" y1="185" x2="425" y2="210" stroke="#555" stroke-width="1.5" class="flow" marker-end="url(#arr)"/>
  <line x1="360" y1="200" x2="425" y2="265" stroke="#555" stroke-width="1.5" class="flow" marker-end="url(#arr)"/>
  <line x1="575" y1="175" x2="645" y2="175" stroke="#4caf50" stroke-width="2" class="flow" marker-end="url(#arr)"/>
  <!-- Concurrent -->
  <rect x="180" y="330" width="540" height="40" rx="20" fill="#f3e5f5" stroke="#9c27b0" stroke-width="1.5"/>
  <text x="450" y="355" text-anchor="middle" font-family="Arial" font-size="12" fill="#6a1b9a" font-weight="bold">Handles 1,000 concurrent requests — 50ms p99 latency</text>
</svg>
